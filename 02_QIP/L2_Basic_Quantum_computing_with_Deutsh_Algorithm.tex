\documentclass[9pt]{beamer}
\usepackage{kotex}
\usepackage{amsfonts,amssymb,amsthm}
\usepackage[dvipsnames]{xcolor}
\usepackage{xcolor}
\usepackage{etoolbox}
\usepackage{braket}
\usepackage{qcircuit}

%## color
\definecolor{customBlack}{HTML}{3B4252}
\definecolor{customBlackGrey}{HTML}{434C5e}
\definecolor{cuatomGrey}{HTML}{4C566A} 
\definecolor{customWhite}{HTML}{ECEFF4} 
\definecolor{customBlue}{HTML}{6082B6}  
\definecolor{customRed}{HTML}{BF616A}
\definecolor{vividauburn}{rgb}{0.58, 0.15, 0.14}


%## Theme & custom
% \usetheme{metropolis}           % Use metropolis theme
% \metroset{block=fill}
\usetheme{moloch} % modern fork of the metropolis theme
\molochset{block=fill}
\setbeamersize{text margin left=5mm, text margin right=5mm}
\setbeamercolor{palette primary}{bg=customBlack}
\setbeamercolor{alerted text}{fg=customRed}
\setbeamercolor{itemize item}{fg=customBlue}
\setbeamercolor{enumerate item}{fg=customBlue}


%## font
\usefonttheme[onlymath]{serif}
% \setbeamerfont{normal text}{size=\small}
% \setbeamerfont{math text}{size=\tiny}


%## Theorem title, numbering
\makeatletter
\setbeamertemplate{theorem begin}
{%
\begin{\inserttheoremblockenv}
{%
\inserttheoremheadfont
\inserttheoremname
\ifx\inserttheoremaddition\@empty\else\ of\ \inserttheoremaddition\fi%
\inserttheorempunctuation
}%
}
\setbeamertemplate{theorem end}{\end{\inserttheoremblockenv}}
\makeatother
\setbeamertemplate{theorems}[numbered]  


%## Custom block
\setbeamercolor{block title}{bg=customBlue, fg=white}
\setbeamercolor{block body}{bg=customWhite, fg=customBlack}
\setbeamercolor{block title alerted}{%
    use={block title, alerted text},
    bg=customRed,
    fg=white
}
\setbeamercolor{block body alerted}{%
    use={block title, alerted text},
    bg=customWhite,
    fg=customBlack
}
\AtBeginEnvironment{definition}{%
    \setbeamercolor{block title}{fg=white,bg=customBlackGrey}
    \setbeamercolor{block body}{fg=customBlack, bg=customWhite}
}
\AtBeginEnvironment{theorem}{%
    \setbeamercolor{block title}{fg=white,bg=customBlackGrey}
    \setbeamercolor{block body}{fg=customBlack, bg=customWhite}
}
\AtBeginEnvironment{corollary}{%
    \setbeamercolor{block title}{fg=white,bg=customBlackGrey}
    \setbeamercolor{block body}{fg=customBlack, bg=customWhite}
}
\AtBeginEnvironment{lemma}{%
    \setbeamercolor{block title}{fg=white,bg=customBlackGrey}
    \setbeamercolor{block body}{fg=customBlack, bg=customWhite}
}


%! Useful command
\renewcommand{\Pr}{\text{Pr}}
% $\ast$ \underline{Proof}:
%\checkmark \underline{meaning}:

\title{2. Basic Quantum Computing with Deutsch Algorithm}
\date{\today}
\author{Vaughan Sohn}
% \institute{Centre for Modern Beamer Themes}


\begin{document}
    %#################################### 
    \maketitle
    

    %#################################### 
    \begin{frame}
        \frametitle{Contents}
        \tableofcontents
    \end{frame}

    %#################################### 
    \begin{frame}
        \frametitle{Overview of Quantum computation}
        
    \end{frame}

    %#################################### 
    \begin{section}{Deutsch Algorithm}
        \begin{frame}
            \frametitle{Deutsch Problem}
            
        \end{frame}

        \begin{frame}
            \frametitle{Solutions of Deutsch Problem}
            
        \end{frame}
    \end{section}

    %#################################### 
    \begin{section}{Key Concept: Discrimination}
        \begin{frame}
            \frametitle{Discrimination between quantum states}
            
        \end{frame}

        \begin{frame}
            \frametitle{Discrimination between unitaries}
            
        \end{frame}

        \begin{frame}
            \frametitle{Discrimination in Deutsch Algorithm}
            \framesubtitle{Deutsch Algorithm is only Discrimination of unitaries!}
            
        \end{frame}
    \end{section}

    %#################################### 
    \begin{section}{Key Concept: Phase estimation}
        \begin{frame}
            \frametitle{t-qubit Deutsch Algorithm}

        \end{frame}

        \begin{frame}
            \frametitle{Quantum Fourier Transform}

        \end{frame}

        \begin{frame}
            \frametitle{Phase estimation in Deutsch Algotirhm}
            \framesubtitle{Deutsch Algorithm requires Phase Estimation to get the superposition result!}
            
        \end{frame}
    \end{section}

    %#################################### 
    \begin{section}{Universial gate set}
        \begin{frame}
            \frametitle{Universial gate set}
            
        \end{frame}

        \begin{frame}
            \frametitle{Prerequisite: bloch sphere and rotation gate}
            
        \end{frame}

        \begin{frame}
            \frametitle{Controlled unitary decomposition}
            
        \end{frame}

        \begin{frame}
            \frametitle{Example: Controlled Y gate}
            
        \end{frame}

        \begin{frame}
            \frametitle{Approximating quantum circuits via discrete gate set}
            \framesubtitle{Solovay-Kitaev Theorem}
            
        \end{frame}
    \end{section}


    %!TEMP
    \begin{frame}{Circuits}
        %? Deutsh
        \begin{table}[h]
            \[
            \begin{array}{c}
            \Qcircuit @C=1.1em @R=.8em {
                \lstick{\ket{0}} & \qw    \barrier[-1.3em]{1}   &   \gate{H}   \barrier[-1.6em]{1}   & \multigate{1}{U_f}   \barrier[-1.3em]{1}   &  \gate{H}   \barrier[-1.4em]{1}   & \meter\\
                \lstick{\ket{0}} & \gate{X} &   \gate{H} & \ghost{U_f}          & \qw       & \meter
            }
            \end{array}
            \]
        \end{table}

        %? State discriminate
        \begin{columns}
            \begin{column}{0.5\textwidth}
                \begin{table}[h]
                    \[
                    \begin{array}{c}
                    \Qcircuit @C=1.3em @R=.8em {
                        \lstick{\underbrace{\ket \psi}_{\{\ket 0, \ket 1\}}} & \qw   & \meter\\
                    }
                    \end{array}
                    \]
                \end{table}
            \end{column}
            \begin{column}{0.5\textwidth}
                \begin{table}[h]
                    \[
                    \begin{array}{c}
                    \Qcircuit @C=1.3em @R=.8em {
                        \lstick{\underbrace{\ket \psi}_{\{\ket +, \ket -\}}} & \qw   & \meter\\
                    }
                    \end{array}
                    \]
                \end{table}
            \end{column}
        \end{columns}

        %? Unitary discriminate
        \begin{columns}
            \begin{column}{0.5\textwidth}
                \begin{table}[h]
                    \[
                    \begin{array}{c}
                    \Qcircuit @C=1.3em @R=.8em {
                        \lstick{{\ket \psi}} &   \gate{\underbrace{U}_{\{I, X\}}} & \meter\\
                    }
                    \end{array}
                    \]
                \end{table}
            \end{column}
            \begin{column}{0.5\textwidth}
                \begin{table}[h]
                    \[
                    \begin{array}{c}
                    \Qcircuit @C=1.3em @R=.8em {
                        \lstick{{\ket \psi}} &   \gate{\underbrace{U}_{\{I, Z\}}}  & \meter\\
                    }
                    \end{array}
                    \]
                \end{table}
            \end{column}
        \end{columns}
    \end{frame}

    \begin{frame}{Circuits}
        
        %? Symbols
        \begin{columns}
            \begin{column}{0.5\textwidth}
                \begin{table}[h]
                    \[
                    \begin{array}{c}
                    \Qcircuit @C=1.3em @R=.8em {
                        & \ctrl{1}  &\qw \\
                        & \targ     &\qw
                    }
                    \end{array}
                    \]
                \end{table}
            \end{column}

            \begin{column}{0.5\textwidth}
                \begin{table}[h]
                    \[
                    \begin{array}{c}
                    \Qcircuit @C=1.3em @R=.8em {
                        & \ctrlo{1}  &\qw \\
                        & \targ     &\qw
                    }
                    \end{array}
                    \]
                \end{table}
            \end{column}
        \end{columns}
        
        %? General Deutsh (first step)
        \begin{figure}
            \centering
            \Qcircuit @C=1.2em @R=1.1em {
                & &\lstick{\ket 0} &\gate{H} &\qw \barrier[-1.8em]{7}&\qw                      &\qw                    &\qw & \dots &       &\ctrl{7}                   &\rstick{\frac{1}{\sqrt 2}(\ket 0 + e^{2\pi i \varphi 2^{t-1}}\ket 1)}\qw\\
                & &                &\vdots   &                       &                       &                       &    & \dots &       &                           &           \\
                & &\lstick{\ket 0} &\gate{H} &\qw                    &\qw                    &\ctrl{5}               &\qw & \dots &       &\qw                        &\rstick{\frac{1}{\sqrt 2}(\ket 0 + e^{2\pi i \varphi 2^{3}}\ket 1)}\qw        \\
                & &\lstick{\ket 0} &\gate{H} &\qw                    &\ctrl{4}               &\qw                    &\qw & \dots &       &\qw                        &\rstick{\frac{1}{\sqrt 2}(\ket 0 + e^{2\pi i \varphi 2^{2}}\ket 1)}\qw        \\
                & &\lstick{\ket 0} &\gate{H} &\ctrl{3}               &\qw                    &\qw                    &\qw & \dots &       &\qw                        &\rstick{\frac{1}{\sqrt 2}(\ket 0 + e^{2\pi i \varphi 2^{0}}\ket 1)}\qw        \\
                & &                &         &                       &                       &                       &    &       &       &                           &                                                                              \\
                & &                &         &                       &                       &                       &    &       &       &                           &                                                                              \\
                & &\lstick{\ket u} &{/}\qw   &\gate{U^{2^0}}         &\gate{U^{2^1}}         &\gate{U^{2^2}}         &\qw & \dots &       &\gate{U^{2^{t-1}}}         &\rstick{\ket u}\qw
            }
        \end{figure}

    \end{frame}

    \begin{frame}
        \frametitle{Circuits}
        %? General Deutsh 
        \begin{table}[h]
            \[
            \begin{array}{c}
            \Qcircuit @C=1.3em @R=.8em {
                \lstick{\ket {0^{\otimes t}}}  &{/}\qw &\gate{H^{\otimes t}}&\ctrl{1}   &\gate{QFT^\dagger} &\meter & \varphi\\
                \lstick{\ket u}                &{/}\qw &\qw                 &\gate{U^j} &\qw                &\rstick{\ket u}\qw
            }
            \end{array}
            \]
        \end{table}

        %?universial
        \begin{columns}
            \begin{column}{0.35\textwidth}
                \begin{table}[h]
                    \[
                    \begin{array}{c}
                    \Qcircuit @C=1.3em @R=.9em {
                        & \ctrl{1} &\qw \\
                        & \gate{R_y(\theta)} &\qw
                    }
                    \end{array}
                    \]
                \end{table}
            \end{column}
            $=$
            \begin{column}{0.65\textwidth}
                \begin{table}[h]
                    \[
                    \begin{array}{c}
                    \Qcircuit @C=1.3em @R=.9em {
                        & \qw                  &\ctrl{1}   &\qw                     &\ctrl{1} &\qw\\
                        & \gate{R_y(\theta/2)} &\targ      &\gate{R_y(-\theta/2)}   &\targ    &\qw
                    }
                    \end{array}
                    \]
                \end{table}                
            \end{column}
        \end{columns}
    \end{frame}


    %#################################### 
    \begin{frame}{References}
        
        \begin{itemize}
            \item Lecture notes for EE547: Introduction to Quantum Information Processing (Fall 2024)
        \end{itemize}
        \vspace{6cm}
    \end{frame}

\end{document}